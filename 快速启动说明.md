# 快速启动说明

## 问题：新终端无法识别 npm 命令

这是因为新打开的终端窗口还没有加载更新后的环境变量。

## 解决方案

### 方法1：使用启动脚本（推荐）

我已经创建了一个启动脚本 `启动前端.ps1`，你可以：

1. **在 PowerShell 中运行**：
   ```powershell
   .\启动前端.ps1
   ```

2. **或者右键点击脚本文件** → 选择"使用 PowerShell 运行"

### 方法2：手动刷新环境变量

在新打开的 PowerShell 终端中，先运行以下命令刷新环境变量：

```powershell
# 刷新环境变量
$env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")

# 验证Node.js是否可用
node --version
npm --version

# 进入前端目录并启动
cd frontend
npm run dev
```

### 方法3：完全重启终端（最简单）

1. **完全关闭当前的 PowerShell 窗口**
2. **重新打开一个新的 PowerShell 窗口**
3. **直接运行**：
   ```powershell
   cd frontend
   npm run dev
   ```

## 推荐操作流程

### 第一次启动

1. **启动后端**（在一个终端窗口）：
   ```powershell
   cd backend
   python init_db.py
   uvicorn app.main:app --reload
   ```

2. **启动前端**（在另一个终端窗口）：
   ```powershell
   # 方法A：使用脚本
   .\启动前端.ps1
   
   # 方法B：手动操作
   $env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")
   cd frontend
   npm run dev
   ```

3. **访问应用**：
   - 前端：http://localhost:5173
   - 后端API文档：http://127.0.0.1:8000/docs

## 注意事项

- 每次新打开 PowerShell 窗口时，如果无法识别 npm，都需要先刷新环境变量
- 或者使用 `启动前端.ps1` 脚本，它会自动处理
- 如果经常使用，建议将刷新命令添加到 PowerShell 配置文件中

---

**提示**：如果仍然遇到问题，请确保 Node.js 已正确安装，并且安装时选择了"Add to PATH"选项。

